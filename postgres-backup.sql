--
-- PostgreSQL database dump
--

-- Dumped from database version 16.1 (Debian 16.1-1.pgdg120+1)
-- Dumped by pg_dump version 16.1 (Debian 16.1-1.pgdg120+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.data (
    horodatage timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    device_id bigint NOT NULL,
    rssi integer,
    battery integer,
    temperature double precision,
    humidity double precision
);


ALTER TABLE public.data OWNER TO postgres;

--
-- Name: device_info; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.device_info (
    device_id bigint NOT NULL,
    location_id integer,
    device_name character varying
);


ALTER TABLE public.device_info OWNER TO postgres;

--
-- Name: locations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.locations (
    location_id integer NOT NULL,
    location_name character varying NOT NULL
);


ALTER TABLE public.locations OWNER TO postgres;

--
-- Name: locations_location_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.locations ALTER COLUMN location_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.locations_location_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: data; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.data (horodatage, device_id, rssi, battery, temperature, humidity) FROM stdin;
2024-03-26 07:42:45.991441	3240323577764934719	-49	52	95.09	89.95
2024-03-26 07:44:59.734905	3240323577764934719	-54	52	95.09	89.95
2024-03-26 07:46:06.635612	3240323577764934719	-55	52	95.09	89.95
2024-03-26 07:47:13.508516	3240323577764934719	-72	52	95.09	89.95
2024-03-26 07:48:20.249087	3240323577764934719	-51	52	95.09	89.95
2024-03-26 07:49:26.927051	3240323577764934719	-53	52	95.09	89.95
2024-03-26 07:50:33.856426	3240323577764934719	-49	52	95.09	89.95
2024-03-26 07:51:40.685506	3240323577764934719	-51	52	95.09	89.95
2024-03-26 07:52:47.515388	3240323577764934719	-53	51	95.09	89.95
2024-03-26 07:55:01.175765	3240323577764934719	-51	51	95.09	89.95
2024-03-26 07:56:08.005606	3240323577764934719	-53	51	95.09	89.95
2024-03-26 07:57:14.937563	3240323577764934719	-63	51	95.09	89.95
2024-03-26 07:58:21.69925	3240323577764934719	-54	51	95.09	89.95
2024-03-26 07:59:28.42038	3240323577764934719	-48	51	95.09	89.95
2024-03-26 08:00:35.472755	3240323577764934719	-48	51	95.09	89.95
2024-03-26 08:01:44.01586	3240323577764934719	-55	51	95.09	89.95
2024-03-26 08:02:48.919968	3240323577764934719	-53	52	95.09	89.95
2024-03-26 08:03:55.717409	3240323577764934719	-57	51	95.09	89.95
2024-03-26 08:05:02.561853	3240323577764934719	-57	51	95.09	89.95
2024-03-26 08:06:09.376854	3240323577764934719	-51	51	95.09	89.95
2024-03-26 08:07:16.207045	3240323577764934719	-54	51	95.09	89.95
2024-03-26 08:08:23.040004	3240323577764934719	-49	50	95.09	89.95
2024-03-26 08:09:29.869634	3240323577764934719	-49	50	95.09	89.95
2024-03-26 08:10:38.767415	3240323577764934719	-51	50	95.09	89.95
2024-03-26 08:11:43.491413	3240323577764934719	-51	50	95.09	89.95
2024-03-26 08:12:50.360418	3240323577764934719	-69	50	95.09	89.95
2024-03-26 08:13:57.19212	3240323577764934719	-51	50	95.09	89.95
2024-03-26 08:15:04.126843	3240323577764934719	-49	50	95.09	89.95
2024-03-26 08:16:10.966315	3240323577764934719	-50	49	95.09	89.95
2024-03-26 08:17:17.682345	3240323577764934719	-48	49	95.09	89.95
2024-03-26 08:18:24.615359	3240323577764934719	-51	49	95.09	89.95
2024-03-26 08:19:31.449368	3240323577764934719	-54	55	95.09	89.95
2024-03-26 08:20:38.488233	3240323577764934719	-72	48	95.09	89.95
2024-03-26 08:21:45.265787	3240323577764934719	-67	49	95.09	89.95
2024-03-26 08:22:52.165422	3240323577764934719	-69	49	95.09	89.95
2024-03-26 08:23:58.985972	3240323577764934719	-70	50	95.09	89.95
2024-03-26 08:25:05.788907	3240323577764934719	-83	52	95.09	89.95
2024-03-26 08:26:12.891616	3240323577764934719	-89	51	95.09	89.95
2024-03-26 08:27:19.7835	3240323577764934719	-87	50	95.09	89.95
2024-03-26 08:29:33.829667	3240323577764934719	-108	49	95.09	89.95
2024-03-26 08:30:40.891041	3240323577764934719	-102	51	95.09	89.95
2024-03-26 08:31:47.757327	3240323577764934719	-103	49	95.09	89.95
2024-03-26 08:32:54.832964	3240323577764934719	-112	49	95.09	89.95
2024-03-26 08:34:02.000044	3240323577764934719	-112	51	95.09	89.95
2024-03-26 08:35:08.95865	3240323577764934719	-111	52	95.09	89.95
2024-03-26 08:41:51.605638	3240323577764934719	-109	50	95.09	89.95
2024-03-26 08:44:29.912954	3240323577764934719	-87	49	95.09	89.95
2024-03-26 08:45:33.395611	3240323577764934719	-93	49	95.09	89.95
2024-03-26 08:46:40.470671	3240323577764934719	-78	49	95.09	89.95
2024-03-26 08:47:47.550844	3240323577764934719	-43	49	95.09	89.95
2024-03-26 08:50:23.116831	3240323577764934719	-33	47	95.09	89.95
2024-03-26 08:51:29.032651	3240323577764934719	-35	48	95.09	89.95
2024-03-26 08:52:35.82122	3240323577764934719	-34	48	95.09	89.95
2024-03-26 08:53:42.628391	3240323577764934719	-35	49	95.09	89.95
2024-03-26 08:54:49.622612	3240323577764934719	-49	51	95.09	89.95
2024-03-26 08:55:56.362695	3240323577764934719	-33	55	95.09	89.95
2024-03-26 08:57:03.201156	3240323577764934719	-32	56	95.09	89.95
\.


--
-- Data for Name: device_info; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.device_info (device_id, location_id, device_name) FROM stdin;
3240323577764934700	1	test
\.


--
-- Data for Name: locations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.locations (location_id, location_name) FROM stdin;
1	Brest
2	Bourg-blanc
\.


--
-- Name: locations_location_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.locations_location_id_seq', 2, true);


--
-- Name: device_info device_info_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.device_info
    ADD CONSTRAINT device_info_pkey PRIMARY KEY (device_id);


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

GRANT USAGE ON SCHEMA public TO r3c_user;
GRANT USAGE ON SCHEMA public TO grafanauser;


--
-- Name: TABLE data; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT ON TABLE public.data TO r3c_user;
GRANT SELECT ON TABLE public.data TO grafanauser;


--
-- Name: TABLE device_info; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT ON TABLE public.device_info TO r3c_user;
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.device_info TO grafanauser;


--
-- Name: TABLE locations; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.locations TO grafanauser;
GRANT SELECT,INSERT ON TABLE public.locations TO r3c_user;


--
-- PostgreSQL database dump complete
--

